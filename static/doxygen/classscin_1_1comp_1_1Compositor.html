<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Scintillator: scin::comp::Compositor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Scintillator
   &#160;<span id="projectnumber">v0.0.1 at 1b5c195</span>
   </div>
   <div id="projectbrief">Documentation specific to the C++-based scinsynth</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>scin</b></li><li class="navelem"><b>comp</b></li><li class="navelem"><a class="el" href="classscin_1_1comp_1_1Compositor.html">Compositor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classscin_1_1comp_1_1Compositor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">scin::comp::Compositor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;Compositor.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8b35c413fb76d5c513bdd34aa2902970"><td class="memItemLeft" align="right" valign="top"><a id="a8b35c413fb76d5c513bdd34aa2902970"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Compositor</b> (std::shared_ptr&lt; <a class="el" href="classscin_1_1vk_1_1Device.html">vk::Device</a> &gt; device, std::shared_ptr&lt; <a class="el" href="classscin_1_1comp_1_1Canvas.html">Canvas</a> &gt; canvas)</td></tr>
<tr class="separator:a8b35c413fb76d5c513bdd34aa2902970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ee36cc4e584f01c095258af23083f0"><td class="memItemLeft" align="right" valign="top"><a id="ac7ee36cc4e584f01c095258af23083f0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>create</b> ()</td></tr>
<tr class="separator:ac7ee36cc4e584f01c095258af23083f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a462d5162e823fbdba3e5759b5fb315cf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#a462d5162e823fbdba3e5759b5fb315cf">buildScinthDef</a> (std::shared_ptr&lt; const <a class="el" href="classscin_1_1base_1_1AbstractScinthDef.html">base::AbstractScinthDef</a> &gt; abstractScinthDef)</td></tr>
<tr class="separator:a462d5162e823fbdba3e5759b5fb315cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada64fea38dd3238652b2c7161ee85c30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#ada64fea38dd3238652b2c7161ee85c30">freeScinthDefs</a> (const std::vector&lt; std::string &gt; &amp;names)</td></tr>
<tr class="separator:ada64fea38dd3238652b2c7161ee85c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf7ee4fab2a3d11104ee6077c593820d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#abf7ee4fab2a3d11104ee6077c593820d">cue</a> (const std::string &amp;scinthDefName, int nodeID, const std::vector&lt; std::pair&lt; std::string, float &gt;&gt; &amp;namedValues, const std::vector&lt; std::pair&lt; int, float &gt;&gt; &amp;indexedValues)</td></tr>
<tr class="separator:abf7ee4fab2a3d11104ee6077c593820d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43816e14dcd14b63622c58b0314c205d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#a43816e14dcd14b63622c58b0314c205d">freeNodes</a> (const std::vector&lt; int &gt; &amp;nodeIDs)</td></tr>
<tr class="separator:a43816e14dcd14b63622c58b0314c205d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a095070aa3b200748b1d1ab0fe0807a6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#a095070aa3b200748b1d1ab0fe0807a6e">setRun</a> (const std::vector&lt; std::pair&lt; int, int &gt;&gt; &amp;pairs)</td></tr>
<tr class="separator:a095070aa3b200748b1d1ab0fe0807a6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d8728666659b75ab779e49dee365ff6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#a9d8728666659b75ab779e49dee365ff6">setNodeParameters</a> (int nodeID, const std::vector&lt; std::pair&lt; std::string, float &gt;&gt; &amp;namedValues, const std::vector&lt; std::pair&lt; int, float &gt;&gt; indexedValues)</td></tr>
<tr class="separator:a9d8728666659b75ab779e49dee365ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af940b1768168413b68dad190cb487144"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classscin_1_1vk_1_1CommandBuffer.html">vk::CommandBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#af940b1768168413b68dad190cb487144">prepareFrame</a> (uint32_t imageIndex, double frameTime)</td></tr>
<tr class="separator:af940b1768168413b68dad190cb487144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23966466e829ec600d9d24aae101955"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#ad23966466e829ec600d9d24aae101955">releaseCompiler</a> ()</td></tr>
<tr class="separator:ad23966466e829ec600d9d24aae101955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be41634ac33686e1dd1aa333055ba3b"><td class="memItemLeft" align="right" valign="top"><a id="a6be41634ac33686e1dd1aa333055ba3b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>destroy</b> ()</td></tr>
<tr class="separator:a6be41634ac33686e1dd1aa333055ba3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37ba3479e9dd4c3521a80db382d1cf3e"><td class="memItemLeft" align="right" valign="top"><a id="a37ba3479e9dd4c3521a80db382d1cf3e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setClearColor</b> (glm::vec3 color)</td></tr>
<tr class="separator:a37ba3479e9dd4c3521a80db382d1cf3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ed7fd0928cb11831eb1a2b5d6024f6"><td class="memItemLeft" align="right" valign="top"><a id="a40ed7fd0928cb11831eb1a2b5d6024f6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>numberOfRunningScinths</b> ()</td></tr>
<tr class="separator:a40ed7fd0928cb11831eb1a2b5d6024f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab28680f7dbfe5dfd8b74094875b66ec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#aab28680f7dbfe5dfd8b74094875b66ec">getGraphicsMemoryBudget</a> (size_t &amp;bytesUsedOut, size_t &amp;bytesBudgetOut)</td></tr>
<tr class="separator:aab28680f7dbfe5dfd8b74094875b66ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25fe74cb4696f9cf57897aaa713c36c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#a25fe74cb4696f9cf57897aaa713c36c9">stageImage</a> (int imageID, int width, int height, std::shared_ptr&lt; <a class="el" href="classscin_1_1vk_1_1HostBuffer.html">vk::HostBuffer</a> &gt; imageBuffer, std::function&lt; void()&gt; completion)</td></tr>
<tr class="separator:a25fe74cb4696f9cf57897aaa713c36c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75ef6d934ce497072784c3369649bf4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#ab75ef6d934ce497072784c3369649bf4">queryImage</a> (int imageID, int &amp;sizeOut, int &amp;widthOut, int &amp;heightOut)</td></tr>
<tr class="separator:ab75ef6d934ce497072784c3369649bf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79131f2050d30d5f8266c819e46a7919"><td class="memItemLeft" align="right" valign="top"><a id="a79131f2050d30d5f8266c819e46a7919"></a>
std::shared_ptr&lt; <a class="el" href="classscin_1_1comp_1_1StageManager.html">StageManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>stageManager</b> ()</td></tr>
<tr class="separator:a79131f2050d30d5f8266c819e46a7919"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:adad57530c8b20064e9f3d5983b62cc1d"><td class="memItemLeft" align="right" valign="top"><a id="adad57530c8b20064e9f3d5983b62cc1d"></a>
typedef std::list&lt; std::shared_ptr&lt; <a class="el" href="classscin_1_1comp_1_1Scinth.html">Scinth</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ScinthList</b></td></tr>
<tr class="separator:adad57530c8b20064e9f3d5983b62cc1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d681369ebd69ce09bdfcf7d0a0bf36a"><td class="memItemLeft" align="right" valign="top"><a id="a3d681369ebd69ce09bdfcf7d0a0bf36a"></a>
typedef std::unordered_map&lt; int, ScinthList::iterator &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ScinthMap</b></td></tr>
<tr class="separator:a3d681369ebd69ce09bdfcf7d0a0bf36a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec30c1fc47995fab236be3d66715511"><td class="memItemLeft" align="right" valign="top"><a id="afec30c1fc47995fab236be3d66715511"></a>
typedef std::vector&lt; std::shared_ptr&lt; <a class="el" href="classscin_1_1vk_1_1CommandBuffer.html">vk::CommandBuffer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Commands</b></td></tr>
<tr class="separator:afec30c1fc47995fab236be3d66715511"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a484aa987645e6666e580d26d9792f8f8"><td class="memItemLeft" align="right" valign="top"><a id="a484aa987645e6666e580d26d9792f8f8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>rebuildCommandBuffer</b> ()</td></tr>
<tr class="separator:a484aa987645e6666e580d26d9792f8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aec53aa64101aab31ec6d1ede666f6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscin_1_1comp_1_1Compositor.html#a3aec53aa64101aab31ec6d1ede666f6b">freeScinthLockAcquired</a> (ScinthMap::iterator it)</td></tr>
<tr class="separator:a3aec53aa64101aab31ec6d1ede666f6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab824804ee2fe3aee01b0ed54874ec477"><td class="memItemLeft" align="right" valign="top"><a id="ab824804ee2fe3aee01b0ed54874ec477"></a>
std::shared_ptr&lt; <a class="el" href="classscin_1_1vk_1_1Device.html">vk::Device</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_device</b></td></tr>
<tr class="separator:ab824804ee2fe3aee01b0ed54874ec477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94aac9fe6afb9d94eca4806259bf05ff"><td class="memItemLeft" align="right" valign="top"><a id="a94aac9fe6afb9d94eca4806259bf05ff"></a>
std::shared_ptr&lt; <a class="el" href="classscin_1_1comp_1_1Canvas.html">Canvas</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_canvas</b></td></tr>
<tr class="separator:a94aac9fe6afb9d94eca4806259bf05ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d8fb3724f230e97d336ceddfdc03a9a"><td class="memItemLeft" align="right" valign="top"><a id="a6d8fb3724f230e97d336ceddfdc03a9a"></a>
glm::vec3&#160;</td><td class="memItemRight" valign="bottom"><b>m_clearColor</b></td></tr>
<tr class="separator:a6d8fb3724f230e97d336ceddfdc03a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0568185145c15663857157bfe81e0b5d"><td class="memItemLeft" align="right" valign="top"><a id="a0568185145c15663857157bfe81e0b5d"></a>
std::unique_ptr&lt; <a class="el" href="classscin_1_1comp_1_1ShaderCompiler.html">ShaderCompiler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_shaderCompiler</b></td></tr>
<tr class="separator:a0568185145c15663857157bfe81e0b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a393024e36d630e48a13204705e465833"><td class="memItemLeft" align="right" valign="top"><a id="a393024e36d630e48a13204705e465833"></a>
std::shared_ptr&lt; <a class="el" href="classscin_1_1vk_1_1CommandPool.html">vk::CommandPool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_commandPool</b></td></tr>
<tr class="separator:a393024e36d630e48a13204705e465833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6aa0b275976eb4a8b025823916631d"><td class="memItemLeft" align="right" valign="top"><a id="a7c6aa0b275976eb4a8b025823916631d"></a>
std::shared_ptr&lt; <a class="el" href="classscin_1_1comp_1_1StageManager.html">StageManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_stageManager</b></td></tr>
<tr class="separator:a7c6aa0b275976eb4a8b025823916631d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e661a89f6f24c59481857d2ca761ec8"><td class="memItemLeft" align="right" valign="top"><a id="a6e661a89f6f24c59481857d2ca761ec8"></a>
std::shared_ptr&lt; <a class="el" href="classscin_1_1comp_1_1SamplerFactory.html">SamplerFactory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_samplerFactory</b></td></tr>
<tr class="separator:a6e661a89f6f24c59481857d2ca761ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af443c2c76a6274ad3ec1e418b3428cdb"><td class="memItemLeft" align="right" valign="top"><a id="af443c2c76a6274ad3ec1e418b3428cdb"></a>
std::shared_ptr&lt; <a class="el" href="classscin_1_1comp_1_1ImageMap.html">ImageMap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_imageMap</b></td></tr>
<tr class="separator:af443c2c76a6274ad3ec1e418b3428cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ceaac004cb4473861522b6edde1e4d"><td class="memItemLeft" align="right" valign="top"><a id="a63ceaac004cb4473861522b6edde1e4d"></a>
std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_commandBufferDirty</b></td></tr>
<tr class="separator:a63ceaac004cb4473861522b6edde1e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c2ca8549c3d86eae85e217e8f9014ea"><td class="memItemLeft" align="right" valign="top"><a id="a0c2ca8549c3d86eae85e217e8f9014ea"></a>
std::atomic&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_nodeSerial</b></td></tr>
<tr class="separator:a0c2ca8549c3d86eae85e217e8f9014ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea80a008c99e55f86b1f0052633be014"><td class="memItemLeft" align="right" valign="top"><a id="aea80a008c99e55f86b1f0052633be014"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><b>m_scinthDefMutex</b></td></tr>
<tr class="separator:aea80a008c99e55f86b1f0052633be014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60fbdb8a37a2fe0d0da6d505fa19c4bf"><td class="memItemLeft" align="right" valign="top"><a id="a60fbdb8a37a2fe0d0da6d505fa19c4bf"></a>
std::unordered_map&lt; std::string, std::shared_ptr&lt; <a class="el" href="classscin_1_1comp_1_1ScinthDef.html">ScinthDef</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_scinthDefs</b></td></tr>
<tr class="separator:a60fbdb8a37a2fe0d0da6d505fa19c4bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717c901e4a793f373c685d714f62561a"><td class="memItemLeft" align="right" valign="top"><a id="a717c901e4a793f373c685d714f62561a"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><b>m_scinthMutex</b></td></tr>
<tr class="separator:a717c901e4a793f373c685d714f62561a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b482b274de07118a85102a6c16a479d"><td class="memItemLeft" align="right" valign="top"><a id="a2b482b274de07118a85102a6c16a479d"></a>
ScinthList&#160;</td><td class="memItemRight" valign="bottom"><b>m_scinths</b></td></tr>
<tr class="separator:a2b482b274de07118a85102a6c16a479d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe8a4ac084366f7f30248d58f3a95f21"><td class="memItemLeft" align="right" valign="top"><a id="afe8a4ac084366f7f30248d58f3a95f21"></a>
ScinthMap&#160;</td><td class="memItemRight" valign="bottom"><b>m_scinthMap</b></td></tr>
<tr class="separator:afe8a4ac084366f7f30248d58f3a95f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b8cafaaec9402ffd443a6ab2306e38c"><td class="memItemLeft" align="right" valign="top"><a id="a4b8cafaaec9402ffd443a6ab2306e38c"></a>
std::shared_ptr&lt; <a class="el" href="classscin_1_1vk_1_1CommandBuffer.html">vk::CommandBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_primaryCommands</b></td></tr>
<tr class="separator:a4b8cafaaec9402ffd443a6ab2306e38c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbbc52d4ee89fd44dea3b403ea01da47"><td class="memItemLeft" align="right" valign="top"><a id="abbbc52d4ee89fd44dea3b403ea01da47"></a>
Commands&#160;</td><td class="memItemRight" valign="bottom"><b>m_secondaryCommands</b></td></tr>
<tr class="separator:abbbc52d4ee89fd44dea3b403ea01da47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b589911a512f418a3eaf83c2819ae4"><td class="memItemLeft" align="right" valign="top"><a id="a30b589911a512f418a3eaf83c2819ae4"></a>
std::vector&lt; Commands &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_frameCommands</b></td></tr>
<tr class="separator:a30b589911a512f418a3eaf83c2819ae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="classscin_1_1comp_1_1Compositor.html">Compositor</a> keeps the <a class="el" href="classscin_1_1comp_1_1ScinthDef.html">ScinthDef</a> instance dictionary as well as all running Scinths. It can render to a supplied supplied <a class="el" href="classscin_1_1comp_1_1Canvas.html">Canvas</a>, which is typically owned by either a Window/SwapChain combination or an <a class="el" href="classscin_1_1comp_1_1Offscreen.html">Offscreen</a> render pass. The <a class="el" href="classscin_1_1comp_1_1Compositor.html">Compositor</a> keeps shared device-specific graphics resources, like a CommandPool and the <a class="el" href="classscin_1_1comp_1_1ShaderCompiler.html">ShaderCompiler</a>. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a462d5162e823fbdba3e5759b5fb315cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a462d5162e823fbdba3e5759b5fb315cf">&#9670;&nbsp;</a></span>buildScinthDef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool scin::comp::Compositor::buildScinthDef </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; const <a class="el" href="classscin_1_1base_1_1AbstractScinthDef.html">base::AbstractScinthDef</a> &gt;&#160;</td>
          <td class="paramname"><em>abstractScinthDef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a <a class="el" href="classscin_1_1comp_1_1ScinthDef.html">ScinthDef</a> designed to render into this <a class="el" href="classscin_1_1comp_1_1Compositor.html">Compositor</a> and add to the local <a class="el" href="classscin_1_1comp_1_1ScinthDef.html">ScinthDef</a> map.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">abstractScinthDef</td><td>The template to build the <a class="el" href="classscin_1_1comp_1_1ScinthDef.html">ScinthDef</a> from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

</div>
</div>
<a id="abf7ee4fab2a3d11104ee6077c593820d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf7ee4fab2a3d11104ee6077c593820d">&#9670;&nbsp;</a></span>cue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool scin::comp::Compositor::cue </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>scinthDefName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; std::string, float &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>namedValues</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; int, float &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>indexedValues</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a node to the default root blend group at the end of the line, playing after all other nodes. The node will be started on the next call to prepareFrame, and will treat that frameTime as its start time. The named and indexed values are applied to set the initial values of the parameters in the <a class="el" href="classscin_1_1comp_1_1Scinth.html">Scinth</a>, otherwise default values as specified in the <a class="el" href="classscin_1_1comp_1_1ScinthDef.html">ScinthDef</a> are used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scinthDefName</td><td>The name of the <a class="el" href="classscin_1_1comp_1_1ScinthDef.html">ScinthDef</a> to invoke. </td></tr>
    <tr><td class="paramname">nodeID</td><td>A nodeID for this scinth, if -1 the <a class="el" href="classscin_1_1comp_1_1Compositor.html">Compositor</a> will assign a unique negative value. </td></tr>
    <tr><td class="paramname">namedValues</td><td>A vector of pairs of parameter names and initial values. </td></tr>
    <tr><td class="paramname">indexedValues</td><td>A vector of pairs of parameter indices and initial values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on error. </dd></dl>

</div>
</div>
<a id="a43816e14dcd14b63622c58b0314c205d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43816e14dcd14b63622c58b0314c205d">&#9670;&nbsp;</a></span>freeNodes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scin::comp::Compositor::freeNodes </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>nodeIDs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stops and removes the nodes from the playing list, and frees the associated resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nodeIDs</td><td>A list of node IDs to stop and remove from the playing list. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ada64fea38dd3238652b2c7161ee85c30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada64fea38dd3238652b2c7161ee85c30">&#9670;&nbsp;</a></span>freeScinthDefs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scin::comp::Compositor::freeScinthDefs </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>names</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove the supplied ScinthDefs from this <a class="el" href="classscin_1_1comp_1_1Compositor.html">Compositor</a>'s map.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">names</td><td>A list of <a class="el" href="classscin_1_1comp_1_1ScinthDef.html">ScinthDef</a> names to remove. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3aec53aa64101aab31ec6d1ede666f6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aec53aa64101aab31ec6d1ede666f6b">&#9670;&nbsp;</a></span>freeScinthLockAcquired()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void scin::comp::Compositor::freeScinthLockAcquired </td>
          <td>(</td>
          <td class="paramtype">ScinthMap::iterator&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Removes a <a class="el" href="classscin_1_1comp_1_1Scinth.html">Scinth</a> from playback. Requires that the m_scinthMutex has already been acquired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>An iterator from m_scinthMap pointing to the desired <a class="el" href="classscin_1_1comp_1_1Scinth.html">Scinth</a> to remove. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aab28680f7dbfe5dfd8b74094875b66ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab28680f7dbfe5dfd8b74094875b66ec">&#9670;&nbsp;</a></span>getGraphicsMemoryBudget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool scin::comp::Compositor::getGraphicsMemoryBudget </td>
          <td>(</td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>bytesUsedOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>bytesBudgetOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Relayed from the graphics device, convenience method. </p>

</div>
</div>
<a id="af940b1768168413b68dad190cb487144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af940b1768168413b68dad190cb487144">&#9670;&nbsp;</a></span>prepareFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classscin_1_1vk_1_1CommandBuffer.html">vk::CommandBuffer</a> &gt; scin::comp::Compositor::prepareFrame </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>imageIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frameTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare and return a CommandBuffers that when executed in order will render the current frame.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imageIndex</td><td>The index of the imageView in the <a class="el" href="classscin_1_1comp_1_1Canvas.html">Canvas</a> we will be rendering in to. </td></tr>
    <tr><td class="paramname">frameTime</td><td>The point in time at which to build this frame for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A CommandBuffer object to be scheduled for graphics queue submission. </dd></dl>

</div>
</div>
<a id="ab75ef6d934ce497072784c3369649bf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab75ef6d934ce497072784c3369649bf4">&#9670;&nbsp;</a></span>queryImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool scin::comp::Compositor::queryImage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>sizeOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>widthOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>heightOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns basic information about a compositor image associated with imageID, if it exists.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imageID</td><td>The image ID to query </td></tr>
    <tr><td class="paramname">sizeOut</td><td>Will store the size in bytes of the image buffer </td></tr>
    <tr><td class="paramname">widthOut</td><td>Will store the width of the image buffer in pixels </td></tr>
    <tr><td class="paramname">heightOut</td><td>Will store the height of the image buffer in pixels </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the image was found and the output values have been written, false otherwise. </dd></dl>

</div>
</div>
<a id="ad23966466e829ec600d9d24aae101955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23966466e829ec600d9d24aae101955">&#9670;&nbsp;</a></span>releaseCompiler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scin::comp::Compositor::releaseCompiler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unload the shader compiler, releasing the resources associated with it.</p>
<p>This can be used to save some memory by releasing the shader compiler, at the cost of increased latency in defining new ScinthDefs, as the compiler will have to be loaded again first. </p>

</div>
</div>
<a id="a9d8728666659b75ab779e49dee365ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d8728666659b75ab779e49dee365ff6">&#9670;&nbsp;</a></span>setNodeParameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scin::comp::Compositor::setNodeParameters </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; std::string, float &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>namedValues</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; int, float &gt;&gt;&#160;</td>
          <td class="paramname"><em>indexedValues</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change the parameter values for a node.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nodeID</td><td>The ID of the node to modify. </td></tr>
    <tr><td class="paramname">namedValues</td><td>A vector of pairs of parameter names and new values. </td></tr>
    <tr><td class="paramname">indexedValues</td><td>A vector of pairs of parameter indexes and new values. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a095070aa3b200748b1d1ab0fe0807a6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a095070aa3b200748b1d1ab0fe0807a6e">&#9670;&nbsp;</a></span>setRun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scin::comp::Compositor::setRun </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; int, int &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>pairs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the pause/play status of provided nodeID in the provided list of pairs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pairs</td><td>A pair of integers, with the first element as a nodeID and the second as a run value. A value of zero for the run value will pause the nodeID, and a nonzero value will play it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a25fe74cb4696f9cf57897aaa713c36c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25fe74cb4696f9cf57897aaa713c36c9">&#9670;&nbsp;</a></span>stageImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scin::comp::Compositor::stageImage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classscin_1_1vk_1_1HostBuffer.html">vk::HostBuffer</a> &gt;&#160;</td>
          <td class="paramname"><em>imageBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void()&gt;&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare to copy the provided decoded image to a suitable GPU-local buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imageID</td><td>The integer image identifier for this </td></tr>
    <tr><td class="paramname">width</td><td>The width of the image in pixels. </td></tr>
    <tr><td class="paramname">height</td><td>The height of the image in pixels. </td></tr>
    <tr><td class="paramname">imageBuffer</td><td>The bytes of the image in RGBA format. </td></tr>
    <tr><td class="paramname">completion</td><td>A function to call once the image has been staged. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 15 2020 20:39:13 for Scintillator by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
